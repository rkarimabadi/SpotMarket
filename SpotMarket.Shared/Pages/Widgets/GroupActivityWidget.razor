

@if (Data != null)
{
    <div class="widget-container">
    <div class="activity-widget">
        <div class="rings-section">
            <div class="rings-chart">
                @* تگ SVG برای نمایش صحیح حلقه‌ها اضافه شد *@
                <svg viewBox="0 0 100 100">
                    <!-- Outer Ring: Competition -->
                    <circle class="ring-track" cx="50" cy="50" r="45" />
                    <circle class="ring-progress competition" cx="50" cy="50" r="45" style="stroke-dashoffset: calc(282.7 * (1 - @Data.CompetitionPercentage));" />
                    <!-- Inner Ring: Demand -->
                    <circle class="ring-track" cx="50" cy="50" r="35" />
                    <circle class="ring-progress demand" cx="50" cy="50" r="35" style="stroke-dashoffset: calc(219.9 * (1 - @Data.DemandPercentage));" />
                </svg>
            </div>
            <div class="rings-legend">
                <div class="legend-item">
                    <div class="legend-dot competition"></div>
                    <span>@Data.CompetitionValue شاخص رقابت</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot demand"></div>
                    <span>@Data.DemandValue ضریب تقاضا</span>
                </div>
            </div>
        </div>
        <div class="stats-section">
            <div class="stat-card">
                <span class="label">ارزش معاملات</span>
                <span class="value">@Data.TotalValue</span>
            </div>
            <div class="stat-card">
                <span class="label">حجم معاملات</span>
                <span class="value">@Data.TotalVolume</span>
            </div>
        </div>
    </div>
    </div>
}

@code {
    [Parameter]
    public GroupActivityData? Data { get; set; }
}
