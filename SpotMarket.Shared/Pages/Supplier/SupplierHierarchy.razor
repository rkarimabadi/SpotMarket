@inject ISupplierService SupplierService
@inject NavigationManager NavigationManager

@if (data != null && data.Any())
{
    <div class="breadcrumb-hierarchy">
        @foreach (var item in data)
        {
            <span class="breadcrumb-item @(item.IsActive ? "active" : "")" @onclick="() => GoTo(item)">
                @item.Name
            </span>
            @if (!item.IsLast)
            {
                <span class="breadcrumb-separator">
                    <i class="bi bi-chevron-left"></i>
                </span>
            }
        }
    </div>
}

@code {
    [Parameter] public int SupplierId { get; set; }
    private List<HierarchyItem>? data;
    protected override async Task OnInitializedAsync()
    {
        data = await SupplierService.GetSupplierHierarchyAsync(SupplierId);
    }
    private void GoTo(HierarchyItem item)
    {
        if (item.IsActive && item.Id > 0)
        {
            NavigationManager.NavigateTo($"/players/suppliers/{item.Id}");
        }
    }
}
