@page "/players/suppliers/{supplierId:int}"

@inject NavStateService NavState

<PageTitle>@pageTitle</PageTitle>
<SupplierHeader SupplierId="SupplierId" OnDataReceived="OnDataReceived" />
<SupplierRanking SupplierId="SupplierId" />
<SupplierMainPlayers SupplierId="SupplierId" />
<SupplierCommodityGroup SupplierId="SupplierId" />
<SupplierMetrics SupplierId="SupplierId" />
<SupplierCompetition SupplierId="SupplierId" />
<SupplierSeasonalActivity SupplierId="SupplierId" />
<SupplierCommodityAnalysis SupplierId="SupplierId" />
<SupplierAllBrokersWidget SupplierId="SupplierId" />
<SupplierOffers SupplierId="SupplierId" Title="" />


@code {
    [Parameter]
    public int SupplierId { get; set; }
    private string? pageTitle;
    private void OnDataReceived(SupplierHeaderData data)
    {
        if (data != null && !string.IsNullOrEmpty(data.SupplierName))
        {
            pageTitle = $"تحلیل عملکرد {data.SupplierName}";
            NavState.SetNavState(pageTitle, true);
        }
    }
}
