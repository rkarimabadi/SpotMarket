@page "/markets/{groupName}"
@inject NavStateService NavState

<div class="page-container">
    <GroupHeaderWidget GroupName="@groupName" />
    
    <HealthInspiredWidget/>
    <SubGroupListWidget/>
    <JournalInspiredWidget/>
    <CategorizedSubGroupListWidget GroupName="@groupName" />
    <MarketRingsWidget/>
    <MarketControlWidget/>
    <MarketCompassWidget/>
    <MarketScheduleWidget/>
    <MarketMetricsWidget/>
    <MarketContactsWidget/>
    <MarketSnapshotsWidget/>
    <MarketProgressRingsWidget/>
    <MarketStatsRowWidget/>
    <MarketVitalsWidget/>
    <MarketConditionsWidget/>
    <MarketShortcutsWidget/>
    <MarketForecastWidget/>
    <MarketAwardsWidget/>
    <MarketWatchlistWidget/>
    <MarketTickerWidget/>
    <MarketComplicationsWidget/>

</div>
@code {
    [Parameter]
    public string? groupName { get; set; }

    protected override void OnInitialized()
    {
        // عنوان TopNav را بر اساس نام گروه تنظیم می‌کند
        var pageTitle = !string.IsNullOrEmpty(groupName) ? groupName : "تحلیل گروه";
        NavState.SetNavState(pageTitle, true);
        base.OnInitialized();
    }
}
