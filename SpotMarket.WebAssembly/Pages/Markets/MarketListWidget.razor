@inject NavigationManager NavigationManager
<div class="market-list-container">
    <div class="market-list">
        @foreach (var market in MarketItems)
        {
            <div class="market-list-item" @onclick="() => GoToGroupAnalysis(market.UrlName)">
                <div class="market-icon @market.IconContainerClass"><i class="bi @market.IconClass"></i></div>
                <div class="market-info">
                    <div class="title">@market.Title</div>
                    <div class="subtitle">@market.Subtitle</div>
                </div>
                <div class="market-heat-indicator">
                    <div class="heat-bar @market.HeatLevel"></div>
                    <div class="heat-label">@market.HeatLabel</div>
                </div>
            </div>
        }
    </div>
</div>

<div class="market-list-container">
    <div class="market-list">
    </div>
</div>

@code {
    private void GoToGroupAnalysis(string groupName)
    {
        // اطمینان از اینکه نام گروه خالی نیست
        if (!string.IsNullOrEmpty(groupName))
        {
            NavigationManager.NavigateTo($"/markets/{groupName}");
        }
    }
    private List<MarketInfo> MarketItems { get; set; } = new();

    protected override void OnInitialized()
    {
        MarketItems = new List<MarketInfo>
        {
            new MarketInfo("صنعتی", "فولاد، مس، آلومینیوم", "Industrial", "bi-building", "industrial", "high", "داغ"),
            new MarketInfo("کشاورزی", "زعفران، پسته، جو", "Agriculture", "bi-tree-fill", "agri", "low", "آرام"),
            new MarketInfo("پتروشیمی و فرآورده های نفتی", "پلیمرها، مواد شیمیایی، نفت", "Petrochemical-and-Oil-Products", "bi-droplet-fill", "petro", "medium", "متوسط"),
            new MarketInfo("معدنی", "سنگ آهن، زغال سنگ", "Mineral", "bi-gem", "mineral", "medium", "متوسط"),
            new MarketInfo("فرآورده های نفتی", "قیر، روغن، گاز", "Oil-Products", "bi-fuel-pump-fill", "oil-products", "high", "داغ"),
            new MarketInfo("اموال غیر منقول", "ساختمان، زمین، مستغلات", "Real-Estate", "bi-house-door-fill", "real-estate", "low", "آرام"),
            new MarketInfo("بازار فرعی", "کالاهای متنوع", "Secondary-Market", "bi-shop", "secondary", "neutral", "خنثی")
        };
    }
    private record MarketInfo(
        string Title,
        string Subtitle,
        string UrlName,
        string IconClass,
        string IconContainerClass,
        string HeatLevel,
        string HeatLabel
    );
}